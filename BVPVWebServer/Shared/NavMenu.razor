@using BVPVWebServer.Services
@using _Imports = MudBlazor.ThemeManager._Imports

@inject StateService StateService

@{
    if (StateService.UserId == null)
    {
        StateService.InitUserInfo("Init");
    }
}

<MudNavMenu>
    <MudNavLink Href="/Home" Match="NavLinkMatch.All">NPDES Home</MudNavLink>

    <MudDivider Class="my-2"/>

    <MudNavGroup Title="Waste Management" Expanded="false">
        <MudNavGroup Title="Background" Expanded="false">
        </MudNavGroup>
        <MudNavGroup Title="Profile" Expanded="false">
        </MudNavGroup>
        <MudNavGroup Title="Drum" Expanded="false">
        </MudNavGroup>
        <MudNavGroup Title="Municipal" Expanded="false">
        </MudNavGroup>
        <MudNavGroup Title="Waste" Expanded="false">
        </MudNavGroup>
        <MudNavGroup Title="Reports" Expanded="false">
        </MudNavGroup>
    </MudNavGroup>

    <MudNavGroup Title="Water Management" Expanded="false">
        <MudNavGroup Title="Import/Export" Expanded="false">
            <MudNavLink Href="/Uploads" Match="NavLinkMatch.Prefix">Imports</MudNavLink>
        </MudNavGroup>
        <MudNavGroup Title="Background" Expanded="false">
        </MudNavGroup>
        <MudNavGroup Title="Data Tables" Expanded="false">
            <MudNavLink Href="/ARCOParam" Match="NavLinkMatch.Prefix">Parameters</MudNavLink>
            <MudNavLink Href="/ARCOSampInfo" Match="NavLinkMatch.Prefix">Samples</MudNavLink>
        </MudNavGroup>
        <MudNavGroup Title="Views" Expanded="false">
        </MudNavGroup>
        <MudNavGroup Title="Reports" Expanded="false">
        </MudNavGroup>
    </MudNavGroup>

    <MudNavGroup Title="Potable Water Mgt" Expanded="false">

    </MudNavGroup>

    <MudDivider Class="mt-2"></MudDivider>
    <MudNavGroup Title="General Admin" Expanded="false">
        <MudNavLink Href="/Uploads" Match="NavLinkMatch.Prefix">Uploads</MudNavLink>
    </MudNavGroup>

    <MudDivider Class="my-2"/>
    <MudNavGroup Title="User Admin" Expanded="false">
        <MudNavLink Href="/users" Match="NavLinkMatch.Prefix">Users</MudNavLink>
        <MudNavLink Href="/roles" Match="NavLinkMatch.Prefix">Roles</MudNavLink>
        <MudNavLink Href="/apps" Match="NavLinkMatch.Prefix">Apps</MudNavLink>
    </MudNavGroup>

    @code{

    }

</MudNavMenu>


@code {
    private bool _collapseNavMenu = true;
    private string? NavMenuCssClass => _collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        _collapseNavMenu = !_collapseNavMenu;
    }

}