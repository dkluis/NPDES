@using BVPVWebServer.Services
@using _Imports = MudBlazor.ThemeManager._Imports

@inject StateService StateService

@{
    if (StateService.UserId == null)
    {
        StateService.InitUserInfo("Init");
    }
}

<MudNavMenu>
    <MudNavLink Href="/Home" Match="NavLinkMatch.All">NPDES Home</MudNavLink>

    <MudDivider Class="my-2"/>
    <MudNavGroup Title="Waste Management" Expanded="false">
        <MudNavLink Href="/fetchdata" Match="NavLinkMatch.Prefix">Fetch Data</MudNavLink>
        <MudNavLink Href="/counter" Match="NavLinkMatch.Prefix">Counter</MudNavLink>
    </MudNavGroup>
    <MudNavGroup Title="Water Management" Expanded="false">
        <MudNavLink Href="/fetchdata" Match="NavLinkMatch.Prefix">Fetch Data</MudNavLink>
        <MudNavLink Href="/counter" Match="NavLinkMatch.Prefix">Counter</MudNavLink>
    </MudNavGroup>
    <MudNavGroup Title="Potable Water Mgt" Expanded="false">
        <MudNavLink Href="/fetchdata" Match="NavLinkMatch.Prefix">Fetch Data</MudNavLink>
        <MudNavLink Href="/counter" Match="NavLinkMatch.Prefix">Counter</MudNavLink>
    </MudNavGroup>
    
    <MudDivider Class="mt-2"></MudDivider>
    <MudNavGroup Title="General Admin" Expanded="true">
        <MudNavLink Href="/fetchdata" Match="NavLinkMatch.Prefix">Fetch Data</MudNavLink>
        <MudNavLink Href="/counter" Match="NavLinkMatch.Prefix">Counter</MudNavLink>
    </MudNavGroup>
    
    <MudDivider Class="my-2"/>
    <MudNavGroup Title="User Admin" Expanded="false">
        <MudNavLink Href="/users" Match="NavLinkMatch.Prefix">Users</MudNavLink>
        <MudNavLink Href="/roles" Match="NavLinkMatch.Prefix">Roles</MudNavLink>
        <MudNavLink Href="/apps" Match="NavLinkMatch.Prefix">Apps</MudNavLink>
    </MudNavGroup>

    @code{

    }

</MudNavMenu>


@code {
    private bool _collapseNavMenu = true;
    private string? NavMenuCssClass => _collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        _collapseNavMenu = !_collapseNavMenu;
    }
}
